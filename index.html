<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Sis Store • E-Menu</title>

    <!-- Fonts + Tailwind CDN (simple, no build step) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      /* Sis Store watercolor-blue palette */
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: [
                "Inter",
                "system-ui",
                "-apple-system",
                "Segoe UI",
                "Roboto",
                "sans-serif",
              ],
            },
            colors: {
              brand: {
                50: "#F4F8FC",
                100: "#E9F0F7",
                200: "#D6E2F0",
                300: "#BDD0E6",
                400: "#9FBAD8",
                500: "#749AB9",
                600: "#5F86A9",
                700: "#4A6F93",
                800: "#3A5A79",
                900: "#2F4863",
              },
              ink: {
                50: "#f8fafc",
                100: "#f1f5f9",
                200: "#e2e8f0",
                300: "#cbd5e1",
                400: "#94a3b8",
                500: "#64748b",
                600: "#475569",
                700: "#334155",
                800: "#1e293b",
                900: "#0f172a",
              },
            },
            boxShadow: {
              soft: "0 10px 30px rgba(74,111,147,.12)",
              inner: "inset 0 1px 0 rgba(255,255,255,.6)",
            },
          },
        },
      };
    </script>

    <!-- Your light custom CSS -->
    <link rel="stylesheet" href="assets/css/styles.css" />
  </head>
  <body class="bg-ink-50 text-ink-800">
    <!-- Toast -->
    <div id="toast" class="fixed top-4 right-4 z-[100] hidden"></div>

    <!-- Header -->
    <header class="relative overflow-hidden">
      <div
        class="absolute inset-0 bg-gradient-to-br from-brand-50 via-white to-brand-100"
      ></div>
      <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="flex items-center justify-between gap-4">
          <div class="flex items-center gap-3 select-none">
            <div
              class="h-10 w-10 rounded-2xl bg-brand-600 text-white grid place-items-center shadow-soft"
            >
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                <path
                  d="M11 4a1 1 0 0 1 2 0v3h3a1 1 0 1 1 0 2h-3v3a1 1 0 1 1-2 0V9H8A1 1 0 1 1 8 7h3V4Z"
                  fill="currentColor"
                />
              </svg>
            </div>
            <div>
              <h1 class="text-xl sm:text-2xl font-semibold tracking-tight">
                Sis Store <span class="text-brand-700">E-Menu</span>
              </h1>
              <p class="text-sm text-ink-500">
                Accessories — fast to browse, easy to pick.
              </p>
            </div>
          </div>

          <button
            id="quoteBtn"
            class="relative inline-flex items-center gap-2 rounded-xl border border-ink-200 bg-white px-4 py-2 text-sm font-medium shadow-sm hover:shadow focus:outline-none focus:ring-2 focus:ring-brand-500"
          >
            <svg
              width="18"
              height="18"
              viewBox="0 0 24 24"
              fill="none"
              class="text-brand-700"
            >
              <path
                d="M3 7h18M3 12h18M3 17h18"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
              />
            </svg>
            <span>Cart</span>
            <span
              id="quoteCount"
              class="ml-1 inline-flex h-5 min-w-[1.25rem] items-center justify-center rounded-full bg-brand-600 px-1.5 text-[11px] font-semibold text-white"
              >0</span
            >
          </button>
        </div>

        <!-- Search + Sort -->
        <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-3">
          <div class="md:col-span-2">
            <label class="relative block">
              <input
                id="search"
                type="search"
                placeholder="Search products by name or code…"
                class="w-full rounded-2xl border border-ink-200 bg-white/90 px-12 py-3 text-[15px] shadow-sm placeholder:text-ink-400 focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-200"
              />
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                class="absolute left-4 top-1/2 -translate-y-1/2 text-ink-400"
              >
                <path
                  d="M11 19a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm10 2-4.35-4.35"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
              <button
                id="clearSearch"
                class="hidden absolute right-3 top-1/2 -translate-y-1/2 rounded-full p-2 text-ink-400 hover:text-ink-600"
                aria-label="Clear search"
              >
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                  <path
                    d="M6 6l12 12M6 18L18 6"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                  />
                </svg>
              </button>
            </label>
          </div>
          <div class="md:col-span-1">
            <label class="relative block">
              <select
                id="sort"
                class="w-full appearance-none rounded-2xl border border-ink-200 bg-white/90 px-4 py-3 text-[15px] shadow-sm focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-200"
              >
                <option value="popular">Sort: Featured</option>
                <option value="price-asc">Price: Low to High</option>
                <option value="price-desc">Price: High to Low</option>
                <option value="name-asc">Name: A → Z</option>
                <option value="name-desc">Name: Z → A</option>
              </select>
              <svg
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                class="pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-ink-400"
              >
                <path
                  d="M6 9l6 6 6-6"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
            </label>
          </div>
        </div>

        <!-- Categories -->
        <div
          id="categories"
          class="mt-5 flex gap-2 overflow-x-auto hide-scrollbar"
        ></div>
      </div>
    </header>

    <!-- Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div id="resultsInfo" class="mb-4 text-sm text-ink-500"></div>
      <div
        id="grid"
        class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5"
      ></div>
    </main>

    <!-- Cart Drawer -->
    <aside
      id="drawer"
      class="fixed right-0 top-0 h-full w-[380px] max-w-[90vw] translate-x-full transition-transform duration-300 z-50"
    >
      <div
        class="h-full bg-white shadow-2xl border-l border-ink-200 flex flex-col"
      >
        <div
          class="flex items-center justify-between px-5 py-4 border-b border-ink-200 bg-ink-50/60"
        >
          <h3 class="font-semibold">Your Cart</h3>
          <button
            id="closeDrawer"
            class="rounded-lg p-2 hover:bg-ink-100"
            aria-label="Close"
          >
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path
                d="M6 6l12 12M6 18L18 6"
                stroke="#0f172a"
                stroke-width="2"
                stroke-linecap="round"
              />
            </svg>
          </button>
        </div>
        <div
          id="quoteEmpty"
          class="flex-1 grid place-items-center text-center p-8 text-ink-500"
        >
          <div>
            <div
              class="mx-auto mb-3 h-12 w-12 rounded-2xl bg-brand-100 grid place-items-center text-brand-700"
            >
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                <path
                  d="M3 7h18M3 12h18M3 17h18"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
            </div>
            <p class="font-medium">Your cart is empty</p>
            <p class="text-sm">Add products to send to Telegram later.</p>
          </div>
        </div>
        <div id="quoteItems" class="flex-1 overflow-y-auto hidden">
          <ul class="divide-y divide-ink-100" id="quoteList"></ul>
        </div>
        <div class="p-4 border-t border-ink-200 space-y-2">
          <button
            id="printQuote"
            class="w-full rounded-xl bg-brand-600 text-white font-medium py-3 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-300"
          >
            Print / Save as PDF
          </button>
          <button
            id="shareTelegram"
            class="w-full rounded-xl border border-brand-500 text-brand-700 font-medium py-3 hover:bg-brand-50"
          >
            Send cart via Telegram
          </button>
        </div>
      </div>
    </aside>

    <!-- Product Modal -->
    <div id="modal" class="fixed inset-0 z-50 hidden">
      <div class="absolute inset-0 bg-black/50" data-modal-close></div>
      <div
        class="relative mx-auto mt-16 w-[95%] max-w-3xl rounded-2xl bg-white shadow-2xl"
      >
        <div class="flex flex-col md:flex-row">
          <div
            class="md:w-1/2 p-6 border-b md:border-b-0 md:border-r border-ink-100"
          >
            <div
              class="aspect-[4/3] w-full rounded-xl bg-gradient-to-br from-ink-100 via-white to-brand-50 grid place-items-center overflow-hidden"
            >
              <img
                id="modalImg"
                src=""
                alt=""
                class="h-full w-full object-cover"
              />
            </div>
          </div>
          <div class="md:w-1/2 p-6">
            <div class="flex items-start justify-between gap-4">
              <div>
                <span
                  id="modalCategory"
                  class="inline-flex items-center rounded-full bg-brand-50 text-brand-700 px-2.5 py-1 text-xs font-semibold ring-1 ring-brand-200"
                  >Category</span
                >
                <h3 id="modalName" class="mt-2 text-xl font-semibold"></h3>
                <p id="modalCode" class="text-sm text-ink-500"></p>
              </div>
              <button
                class="rounded-lg p-2 hover:bg-ink-100"
                data-modal-close
                aria-label="Close"
              >
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path
                    d="M6 6l12 12M6 18L18 6"
                    stroke="#0f172a"
                    stroke-width="2"
                    stroke-linecap="round"
                  />
                </svg>
              </button>
            </div>
            <p
              id="modalDesc"
              class="mt-3 text-[15px] leading-relaxed text-ink-600"
            ></p>
            <div
              class="mt-4 text-2xl font-semibold text-brand-800"
              id="modalPrice"
            ></div>
            <div class="mt-6 flex items-center gap-3">
              <button
                id="modalAddQuote"
                class="rounded-xl bg-brand-600 text-white font-medium px-4 py-2 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-300"
              >
                Add to cart
              </button>
              <button
                class="rounded-xl border border-ink-200 bg-white px-4 py-2 font-medium hover:shadow-sm"
                data-modal-close
              >
                Close
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Print Template -->
    <template id="printTpl">
      <div class="p-6">
        <h2 class="text-lg font-semibold">Cart</h2>
        <p class="text-sm text-ink-500">Generated from Sis Store E-Menu</p>
        <table class="mt-4 w-full text-sm border-collapse">
          <thead>
            <tr class="bg-ink-100">
              <th class="text-left p-2 border">#</th>
              <th class="text-left p-2 border">Product</th>
              <th class="text-left p-2 border">Code</th>
              <th class="text-left p-2 border">Category</th>
              <th class="text-right p-2 border">Price</th>
            </tr>
          </thead>
          <tbody id="printRows"></tbody>
        </table>
      </div>
    </template>

    <!-- Config first, then app -->
    <script src="assets/js/config.js"></script>
    <script src="assets/js/app.js"></script>
  </body>
</html>
